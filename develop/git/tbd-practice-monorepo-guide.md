---
created: 2026-02-11
source: claude-code
tags:
  - trunk-based-development
  - monorepo
  - branching-strategy
  - release-management
---

# Trunk-Based Development Practice â€” Monorepo Guide

> **í•œì¤„ ìš”ì•½**: developì„ Trunkë¡œ ì‚¼ê³ , short-lived branch + feature flag + ìë™í™”ëœ backportë¡œ ë¦´ë¦¬ì¦ˆë¥¼ ê´€ë¦¬í•˜ëŠ” ì‹¤ì²œ ê°€ì´ë“œ

---

## 1. í˜„ì¬ ìƒíƒœ ì§„ë‹¨ (AS-IS)

### 1.1 ë¸Œëœì¹˜ í˜„í™©

```
ì¼ë°˜ì ì¸ ëª¨ë…¸ë ˆí¬ ë¬¸ì œ ì‚¬ë¡€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ ë¸Œëœì¹˜ ìˆ˜          : ìˆ˜ë°± ê°œ ì´ìƒ
ì£¼ ê°œë°œ ë¸Œëœì¹˜        : develop
ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜         : release-v2-2-1, release-v1-0-0-rc9
ì»¤ë°‹ ë¹ˆë„             : ì¼ í‰ê·  ìˆ˜ê±´~ìˆ˜ì‹­ê±´
ì„œë¹„ìŠ¤ ìˆ˜             : ë‹¤ìˆ˜ (backend, frontend, api, worker ë“±)
Feature Flag          : ì‚¬ìš© ì¤‘ì´ì§€ë§Œ ë¹„í‘œì¤€
Backport ë°©ì‹         : ìˆ˜ë™ cherry-pick
CI/CD                 : GitHub Actions
ì»¤ë°‹ ì»¨ë²¤ì…˜           : [TICKET-ID] description (#PRë²ˆí˜¸)
```

### 1.2 í˜„ì¬ ëª¨ë¸ì˜ ë¬¸ì œì 

| #   | ë¬¸ì œ                   | ì˜í–¥                         | TBD í•´ê²° ë°©ì•ˆ                     |
| --- | -------------------- | -------------------------- | ----------------------------- |
| 1   | ìˆ˜ë°± ê°œ ì¥ê¸° ìƒì¡´ ë¸Œëœì¹˜       | ë¨¸ì§€ ì¶©ëŒ ì¦ê°€, ì½”ë“œ ë¶„ê¸° ì‹¬í™”         | Short-lived branch (â‰¤ 2ì¼)     |
| 2   | ìˆ˜ë™ Backport          | íœ´ë¨¼ ì—ëŸ¬, ëˆ„ë½ ìœ„í—˜               | ë ˆì´ë¸” ê¸°ë°˜ ìë™ Backport            |
| 3   | ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ ì¥ê¸° ìœ ì§€        | developê³¼ì˜ ë¶„ê¸° ì‹¬í™”, ë°±í¬íŠ¸ ì¶©ëŒ ì¦ê°€ | Release cut â†’ harden â†’ delete |
| 4   | Feature branch ì¥ê¸° ìƒì¡´ | í†µí•© ì§€ì—°, "Big Bang" ë¨¸ì§€       | Feature Flag + ì ì§„ì  í†µí•©         |
| 5   | develop â†” main ì´ì¤‘ êµ¬ì¡° | ì—­í•  í˜¼ë™, ë™ê¸°í™” ë¶€ë‹´              | develop = Trunk ë‹¨ì¼ êµ¬ì¡°         |

---

## 2. TBD í•µì‹¬ ì›ì¹™ (Core Principles)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Trunk-Based Development í•µì‹¬ ì›ì¹™                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1ï¸âƒ£  í•˜ë‚˜ì˜ Trunk (develop)                                   â”‚
â”‚      ëª¨ë“  ê°œë°œìê°€ ë‹¨ì¼ ë¸Œëœì¹˜ì— í†µí•©                               â”‚
â”‚                                                             â”‚
â”‚  2ï¸âƒ£  Short-lived Branches Only                              â”‚
â”‚      Feature branch ìˆ˜ëª… â‰¤ 2ì¼                                â”‚
â”‚                                                             â”‚
â”‚  3ï¸âƒ£  ìµœì†Œ ì¼ 1íšŒ Trunkì— í†µí•©                                   â”‚
â”‚      24ì‹œê°„ ì´ë‚´ ë¨¸ì§€ ì›ì¹™                                       â”‚
â”‚                                                             â”‚
â”‚  4ï¸âƒ£  Trunkì€ í•­ìƒ ë¦´ë¦¬ì¦ˆ ê°€ëŠ¥                                    â”‚
â”‚      ë¹Œë“œê°€ ê¹¨ì§€ë©´ ì¦‰ì‹œ ìˆ˜ì • (Fix Forward)                        â”‚
â”‚                                                             â”‚
â”‚  5ï¸âƒ£  Feature Flagìœ¼ë¡œ ë°°í¬ì™€ ë¦´ë¦¬ì¦ˆ ë¶„ë¦¬                          â”‚
â”‚      ë¯¸ì™„ì„± ê¸°ëŠ¥ë„ Trunkì— ë¨¸ì§€ ê°€ëŠ¥                              â”‚
â”‚                                                             â”‚
â”‚  6ï¸âƒ£  Release BranchëŠ” Just-in-Time ìƒì„±                       â”‚
â”‚      ë¦´ë¦¬ì¦ˆ ì§ì „ì— cut â†’ harden â†’ release â†’ delete              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ“Œ ì¶œì²˜: [trunkbaseddevelopment.com](https://trunkbaseddevelopment.com/)

### 2.1 ì™œ "ì¼ 1íšŒ í†µí•©"ì¸ê°€?

#### ë¬¸ì œ: ë™ì‹œ ë¨¸ì§€ í­íƒ„ (Merge Bomb)

ê°œë°œì 5ëª…ì´ ëª¨ë‘ 2ì¼ì§œë¦¬ ì‘ì—…ì„ ë™ì‹œì— ì‹œì‘í•˜ë©´:

```
âŒ ë™ì‹œ 2ì¼ ì‘ì—… â€” "ì‘ì€ Big Bang ë¨¸ì§€"

ê°œë°œìA  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º merge â”€â”
ê°œë°œìB  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º merge â”€â”¤
ê°œë°œìC  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º merge â”€â”¼â”€ ğŸ’¥ 5ê°œ ë™ì‹œ ë¨¸ì§€
ê°œë°œìD  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º merge â”€â”¤    ì¶©ëŒ í™•ë¥  ê¸‰ì¦
ê°œë°œìE  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º merge â”€â”˜

develop  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2ì¼ê°„ ì¡°ìš© â”€â”€â”€â”€ ê°‘ìê¸° 5ê°œ í•œêº¼ë²ˆì—
```

**ë¬¸ì œì **:
- ê° ë¸Œëœì¹˜ê°€ 2ì¼ ë™ì•ˆ ì„œë¡œì˜ ë³€ê²½ì‚¬í•­ì„ ëª¨ë¥¸ ì±„ ë¶„ê¸°
- ë§ˆì§€ë§‰ ë‚  ë™ì‹œ ë¨¸ì§€ ì‹œ ì¶©ëŒ í™•ë¥  ê¸‰ì¦
- í†µí•© ì‘ì—…ì´ **ë¹„ì„ í˜•(non-linear)**ìœ¼ë¡œ ì¦ê°€ â€” 2ì¼ì¹˜ë¥¼ í•œ ë²ˆì— ë¨¸ì§€í•˜ëŠ” ê²ƒì´ 1ì¼ì¹˜ ë¨¸ì§€ 2ë²ˆë³´ë‹¤ í›¨ì”¬ ì–´ë ¤ì›€

#### í•´ê²°: ì¼ 1íšŒ í†µí•© ì›ì¹™

```
âœ… ì¼ 1íšŒ í†µí•© â€” "ë¨¸ì§€ê°€ ë¶„ì‚°ë¨"

ê°œë°œìA  â”€â”€â—â”€â”€â–º merge â”€â”€â—â”€â”€â–º merge    (1ì¼ì°¨ ë¶€ë¶„ ë¨¸ì§€ + 2ì¼ì°¨ ì™„ë£Œ)
ê°œë°œìB  â”€â”€â—â”€â”€â–º merge â”€â”€â—â”€â”€â–º merge
ê°œë°œìC  â”€â”€â—â”€â”€â–º merge â”€â”€â—â”€â”€â–º merge

develop  â”€â”€â”€â”€â—â—â—â”€â”€â”€â”€â”€â”€â—â—â—â”€â”€â”€â”€â”€â”€â”€â”€    ë¨¸ì§€ê°€ ë¶„ì‚°ë¨, ê° ë¨¸ì§€ í¬ê¸° ì‘ìŒ
```

**íš¨ê³¼**:
- 2ì¼ ì‘ì—…ì´ë¼ë„ **ìª¼ê°œì„œ ì¤‘ê°„ì— í•œ ë²ˆ ë¨¸ì§€**
- í†µí•© ì‘ì—…ì´ ì‘ê³  ë¹ˆë²ˆí•˜ê²Œ ë¶„ì‚° â†’ ê° ë¨¸ì§€ëŠ” "generally a non-event" (Martin Fowler)
- ì¶©ëŒ ë°œìƒ ì‹œ ìˆ˜ ì‹œê°„ ë‚´ ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆì–´ í•´ê²° ìš©ì´

#### ì¼ 1íšŒ í†µí•©ì„ ë‹¬ì„±í•˜ëŠ” ë°©ë²•

| ë°©ë²•               | ì˜ˆì‹œ                                                 |
| ---------------- | -------------------------------------------------- |
| **ì‘ì—… ë¶„í• **        | 2ì¼ ì‘ì—…ì„ 1ì¼ ë‹¨ìœ„ PR 2ê°œë¡œ ë¶„ë¦¬                             |
| **Feature Flag** | ë¯¸ì™„ì„± ì½”ë“œë¥¼ flagë¡œ ê°ì‹¸ì„œ 1ì¼ì°¨ì— ë¨¼ì € ë¨¸ì§€                       |
| **ì ì§„ì  ë¦¬íŒ©í† ë§**     | ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ â†’ êµ¬í˜„ ë³€ê²½ì„ ë³„ë„ PRë¡œ                           |
| **ë ˆì´ì–´ë³„ ë¶„ë¦¬**      | Model â†’ Repository â†’ Service â†’ Controller ê°ê° ë³„ë„ PR |

#### ì›ì¹™ì˜ ê´€ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "â‰¤ 2ì¼" = ë¸Œëœì¹˜ ìˆ˜ëª…ì˜ ìƒí•œì„  (ìµœëŒ€ ê¸°í•œ)                  â”‚
â”‚  "ì¼ 1íšŒ" = í†µí•© ì£¼ê¸°ì˜ í•˜í•œì„  (ìµœì†Œ ë¹ˆë„)                   â”‚
â”‚                                                      â”‚
â”‚  ë‘ ê·œì¹™ì´ í•¨ê»˜ ì‘ë™í•˜ì—¬                                   â”‚
â”‚  "2ì¼ ë™ì•ˆ ì•„ë¬´ë„ trunkì— ë¨¸ì§€ ì•ˆ í•˜ëŠ” ìƒí™©" ë°©ì§€             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ê·¼ê±° ì¶œì²˜

> **Martin Fowler** (Continuous Integration):
> "It's **much easier to combine a few hours work** on a code base than to **combine several days**. The more often we integrate, the less time we spend integrating... the longer the time between integrations, the more code to integrate, the longer it takesâ€”but **what's worse is the increase in unpredictability**."

> **trunkbaseddevelopment.com**:
> "all team members commit to trunk **at least once every 24 hours**"

**ì°¸ê³  ìë£Œ**:
- [Martin Fowler - Continuous Integration](https://martinfowler.com/articles/continuousIntegration.html)
- [trunkbaseddevelopment.com - Continuous Integration](https://trunkbaseddevelopment.com/continuous-integration/)
- [Atlassian - Trunk-based Development](https://www.atlassian.com/continuous-delivery/continuous-integration/trunk-based-development)

---

## 3. ë¸Œëœì¹˜ ì „ëµ (TO-BE)

### 3.1 ë¸Œëœì¹˜ êµ¬ì¡°

```
develop (Trunk) â”€ ëª¨ë“  ê°œë°œì˜ ì¤‘ì‹¬
    â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â–º
    â”‚    â–²    â”‚    â–²    â”‚    â–²         â”‚
    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚         â”‚ release cut (just-in-time)
    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚         â”‚
    â–¼    â”‚    â–¼    â”‚    â–¼    â”‚         â–¼
feature/ â”‚ feature/â”‚ hotfix/ â”‚    release/v2.3.0
  XXX    â”‚   YYY   â”‚   ZZZ   â”‚         â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â–º tag v2.3.0
  â—â”€â—â”€â”€â”€â”€â”˜   â—â”€â”€â”€â”€â”€â”˜   â—â”€â”€â”€â”€â”€â”˜         â”‚    â–²         (then delete)
 (ì‘ì—…)     (ì‘ì—…)    (ê¸´ê¸‰ìˆ˜ì •)           â”‚     â”‚
                                    harden  â”‚
                                      â”‚     â”‚ backport (ìë™)
                                      â”‚     â”‚
                                      â”‚     â— developì—ì„œ fix commit
                                      â”‚       (trunk-first ì›ì¹™)
                                      â”‚
                                   QA test
                                   bug fix

í•µì‹¬ íë¦„:
1. developì—ì„œ feature/hotfix ë¸Œëœì¹˜ ìƒì„± (ë¶„ê¸°)
2. ì‘ì—… ì™„ë£Œ í›„ developìœ¼ë¡œ ë¨¸ì§€ (í†µí•©)
3. release cut ì‹œì ì— developì—ì„œ release ë¸Œëœì¹˜ ìƒì„±
4. developì˜ ìˆ˜ì •ì‚¬í•­ì´ ìë™ìœ¼ë¡œ releaseë¡œ backport (ì „íŒŒ)
```

### 3.2 ë¸Œëœì¹˜ ìœ í˜• ë° ê·œì¹™

| ë¸Œëœì¹˜ ìœ í˜•                   | ë„¤ì´ë° íŒ¨í„´                                      | ìˆ˜ëª…   | ìƒì„± ì¡°ê±´           | ë¨¸ì§€ ëŒ€ìƒ        |
| ------------------------ | ------------------------------------------- | ---- | --------------- | ------------ |
| **Trunk**                | `develop`                                   | ì˜êµ¬   | -               | -            |
| **Feature Branch**       | `PROJ-XXXX` ë˜ëŠ” `TEAM-XXXX`                 | â‰¤ 2ì¼ | ì´ìŠˆ í‹°ì¼“ í• ë‹¹ ì‹œ      | develop      |
| **Hotfix Branch**        | `hotfix/PROJ-XXXX`                          | â‰¤ 1ì¼ | ìš´ì˜ ì¥ì•  ë°œìƒ ì‹œ      | develop      |
| **Release Branch**       | `release/{product}/v{major}.{minor}.{patch}` | â‰¤ 2ì£¼ | ë¦´ë¦¬ì¦ˆ ì¼ì • í™•ì • ì‹œ     | tag â†’ delete |
| **Backport Branch** (ìë™) | `backport-{PR}-to-{target}` (backport-action ê¸°ë³¸ê°’) | â‰¤ 1ì¼ | ìë™ ìƒì„± | release/*    |

#### Release Branch ë„¤ì´ë° ìƒì„¸

ëª¨ë…¸ë ˆí¬ê°€ ì—¬ëŸ¬ ì œí’ˆì„ í¬í•¨í•˜ëŠ” ê²½ìš°, ì œí’ˆëª…ì„ ëª…ì‹œí•œ ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ ì‚¬ìš©:

**íŒ¨í„´**: `release/{product}/v{major}.{minor}.{patch}`

**ëª¨ë…¸ë ˆí¬ ì ìš© ì˜ˆì‹œ**:

One Source Multi Build ì „ëµì— ë”°ë¼ **ì œí’ˆ(Product)** ë‹¨ìœ„ë¡œ ë¦´ë¦¬ì¦ˆ:
- `release/product-a/v2.3.0` - Product A ë¦´ë¦¬ì¦ˆ (ê´€ë ¨ ëª¨ë“  ì„œë¹„ìŠ¤ í¬í•¨)
- `release/product-b/v1.0.0` - Product B ë¦´ë¦¬ì¦ˆ (ê´€ë ¨ ëª¨ë“  ì„œë¹„ìŠ¤ í¬í•¨)

ê° ë¦´ë¦¬ì¦ˆì—ëŠ” ëª¨ë“  ì„œë¹„ìŠ¤(backend, frontend, api, worker ë“±)ê°€ ë™ì¼í•œ ë²„ì „ìœ¼ë¡œ í¬í•¨ë˜ì§€ë§Œ, ì œí’ˆë³„ë¡œ ë³„ë„ ë¹Œë“œ ë° ë°°í¬ë¨.

**ë‹¨ì¼ ì œí’ˆ ëª¨ë…¸ë ˆí¬ì˜ ê²½ìš°**:
- `release/v2.3.0` - ë‹¨ìˆœ ë²„ì „ ë²ˆí˜¸ë§Œ ì‚¬ìš© ê°€ëŠ¥

> ğŸ“Œ **ê·¼ê±°**: Microsoft, Nx, CircleCI ë“± ëª¨ë…¸ë ˆí¬ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì—ì„œ ê¶Œì¥í•˜ëŠ” ì œí’ˆë³„ ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ ë„¤ì´ë° íŒ¨í„´

#### Backport Branch ë„¤ì´ë° ìƒì„¸

GitHub Actionsì˜ [korthout/backport-action](https://github.com/korthout/backport-action)ì´ ìë™ ìƒì„±í•˜ëŠ” ê¸°ë³¸ íŒ¨í„´:

**íŒ¨í„´**: `backport-{PRë²ˆí˜¸}-to-{ëŒ€ìƒë¸Œëœì¹˜}`

**ì˜ˆì‹œ**:
- `backport-123-to-release/product-a/v2.3.0`
- `backport-456-to-release/product-b/v1.0.0`

**ì»¤ìŠ¤í„°ë§ˆì´ì§•**: `.github/workflows/backport.yml`ì—ì„œ `branch_name` íŒŒë¼ë¯¸í„°ë¡œ ë³€ê²½ ê°€ëŠ¥

### 3.3 ê¸ˆì§€ ì‚¬í•­

```
ğŸš« developì—ì„œ ì§ì ‘ ì»¤ë°‹ (PR í•„ìˆ˜)
ğŸš« 2ì¼ ì´ˆê³¼ Feature Branch ìœ ì§€
ğŸš« Release Branchì—ì„œ ì§ì ‘ ê¸°ëŠ¥ ê°œë°œ
ğŸš« Release Branchë¥¼ developìœ¼ë¡œ ì—­ë¨¸ì§€ (backport ëŒ€ì‹ )
ğŸš« Feature Branch ê°„ ë¨¸ì§€ (branch-to-branch)
```

---

## 4. Short-lived Branch ê·œì¹™

### 4.1 ë¸Œëœì¹˜ ìˆ˜ëª… ê´€ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Branch Lifecycle (Target)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  Day 0          Day 1          Day 2          Day 3       â”‚
â”‚  â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€       â”‚
â”‚    â”‚              â”‚              â”‚              â”‚         â”‚
â”‚    â”‚  âœ… Normal    â”‚  âš ï¸ Warning  â”‚  ğŸš« Stale    â”‚         â”‚
â”‚    â”‚  Zone        â”‚  Zone        â”‚  Must merge  â”‚         â”‚
â”‚    â”‚              â”‚              â”‚  or split    â”‚         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â”‚  ìë™ ì•Œë¦¼:                                                  â”‚
â”‚  - 24h ê²½ê³¼: Slack ë¦¬ë§ˆì¸ë”                                   â”‚
â”‚  - 48h ê²½ê³¼: PRì— "stale-branch" ë ˆì´ë¸” ìë™ ë¶€ì°©               â”‚
â”‚  - 72h ê²½ê³¼: íŒ€ ë¦¬ë“œì—ê²Œ ì—ìŠ¤ì»¬ë ˆì´ì…˜                             â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ëŒ€ê·œëª¨ ê¸°ëŠ¥ ë¶„í•  ì „ëµ

2ì¼ ë‚´ì— ì™„ë£Œí•  ìˆ˜ ì—†ëŠ” ê¸°ëŠ¥ì€ **ë¶„í• **í•´ì•¼ í•œë‹¤:

```
ëŒ€ê·œëª¨ ê¸°ëŠ¥ (ì˜ˆ: ìƒˆë¡œìš´ ëŒ€ì‹œë³´ë“œ ê°œë°œ)
â”‚
â”œâ”€â”€ PR #1: ë°ì´í„° ëª¨ë¸ ì¶”ê°€ (FF: off)           â† Day 1
â”œâ”€â”€ PR #2: API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (FF: off)        â† Day 2
â”œâ”€â”€ PR #3: ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ (FF: off)           â† Day 3
â”œâ”€â”€ PR #4: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—°ê²° (FF: off)          â† Day 4
â””â”€â”€ PR #5: Feature Flag í™œì„±í™” + E2E í…ŒìŠ¤íŠ¸     â† Day 5
     â””â”€â”€ FF on â†’ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ
```

**ë¶„í•  ê¸°ì¤€:**
1. **ë ˆì´ì–´ë³„ ë¶„í• **: Model â†’ Repository â†’ Service â†’ Controller â†’ UI
2. **ê¸°ëŠ¥ë³„ ë¶„í• **: CRUD ê°ê°ì„ ë³„ë„ PRë¡œ
3. **ì„œë¹„ìŠ¤ë³„ ë¶„í• **: ëª¨ë…¸ë ˆí¬ ë‚´ ì„œë¹„ìŠ¤ ê²½ê³„ì— ë”°ë¼ ë¶„í• 
4. **FFìœ¼ë¡œ ë³´í˜¸**: ë¯¸ì™„ì„± ì½”ë“œëŠ” Feature Flagìœ¼ë¡œ ë¹„í™œì„±í™” ìƒíƒœë¡œ ë¨¸ì§€

---

## 5. Feature Flag ì „ëµ

### 5.1 Feature Flag ë¶„ë¥˜

Feature FlagëŠ” **ìˆ˜ëª…(Lifespan)**ê³¼ **ìš©ë„**ì— ë”°ë¼ 4ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë¶„ë¥˜:

#### ë‹¨ê¸° Flag (Temporary Flags)

| ìœ í˜• | ìˆ˜ëª… | ìš©ë„ | ì˜ˆì‹œ | ì •ë¦¬ ì‹œì  |
|------|------|------|------|----------|
| **Release Flag** | 2-6ì£¼ | ë¯¸ì™„ì„± ê¸°ëŠ¥ ë³´í˜¸, ì ì§„ì  ë¡¤ì•„ì›ƒ | `FF_PRODUCT_A_REL_V230_NEW_FEATURE` | ë¦´ë¦¬ì¦ˆ ì™„ë£Œ í›„ ë‹¤ìŒ ìŠ¤í”„ë¦°íŠ¸ |
| **Experiment Flag** | 2-4ì£¼ | A/B í…ŒìŠ¤íŠ¸, ê°€ì„¤ ê²€ì¦ | `FF_PRODUCT_A_EXP_REDESIGN_UI` | ì‹¤í—˜ ì¢…ë£Œ í›„ 1ì£¼ ì´ë‚´ |

#### ì¥ê¸° Flag (Long-lived Flags)

| ìœ í˜• | ìˆ˜ëª… | ìš©ë„ | ì˜ˆì‹œ | ê´€ë¦¬ ë°©ë²• |
|------|------|------|------|----------|
| **Ops Flag** | ì˜êµ¬ | ìš´ì˜ í† ê¸€, Circuit Breaker | `FF_COMMON_OPS_FALLBACK_MODE` | ë¶„ê¸°ë³„ ê²€í† , ì•ˆì •í™” ì‹œ ì œê±° |
| **Permission Flag** | ì˜êµ¬ | ê³ ê°/í™˜ê²½ë³„ ê¸°ëŠ¥ ì œì–´ | `FF_CUSTOMER_PREMIUM_FEATURE` | ì—° 1íšŒ ê²€í†  |

> ğŸ“Œ **ìˆ˜ëª… ê¸°ì¤€ ì¶œì²˜**: Martin Fowlerì˜ [Feature Toggles](https://martinfowler.com/articles/feature-toggles.html), LaunchDarkly [Best Practices](https://launchdarkly.com/guides/30-feature-flagging-best-practices-mega-guide/)
>
> **í•µì‹¬ ì›ì¹™**: "Flagê°€ í•­ìƒ ON ë˜ëŠ” í•­ìƒ OFF ìƒíƒœë©´ ì¦‰ì‹œ ì •ë¦¬" (LaunchDarkly)

### 5.2 ë„¤ì´ë° ì»¨ë²¤ì…˜

#### íŒ¨í„´
```
FF_{PRODUCT}_{CATEGORY}_{VERSION}_{FEATURE_NAME}
```

#### êµ¬ì„± ìš”ì†Œ

| ìš”ì†Œ | ì„¤ëª… | ê°’ |
|------|------|-----|
| **FF_** | Feature Flag prefix (ì„ íƒì ) | ê³ ì • |
| **{PRODUCT}** | ì œí’ˆ ì‹ë³„ì | `PRODUCT_A`, `PRODUCT_B`, `COMMON` |
| **{CATEGORY}** | Flag ìœ í˜• | `REL`, `OPS`, `EXP`, `PERM` |
| **{VERSION}** | ë²„ì „ (Release Flagë§Œ) | `V230`, `V100` ë“± |
| **{FEATURE_NAME}** | ê¸°ëŠ¥ ì„¤ëª… (UPPER_SNAKE_CASE) | `NEW_FEATURE`, `REDESIGN_UI` ë“± |

#### ì˜ˆì‹œ

```
# Product A
FF_PRODUCT_A_REL_V230_NEW_FEATURE      # Product A v2.3.0 release flag
FF_PRODUCT_A_EXP_REDESIGN_UI           # Product A experiment flag

# Product B
FF_PRODUCT_B_REL_V100_NEW_WORKFLOW     # Product B v1.0.0 release flag
FF_PRODUCT_B_OPS_ENABLE_FAST_MODE      # Product B ops flag

# ê³µí†µ (ì–‘ ì œí’ˆ ê³µìœ )
FF_COMMON_OPS_FALLBACK_MODE            # ê³µí†µ ops flag
FF_COMMON_PERM_PREMIUM_FEATURE         # ê³µí†µ permission flag
```

#### FF_ Prefix ê·¼ê±°

**FF_ prefixëŠ” ì—…ê³„ í‘œì¤€ì´ ì•„ë‹ˆì§€ë§Œ**, ë‹¤ìŒ ì´ìœ ë¡œ ì‚¬ìš©ì„ ê¶Œì¥:

1. **ë¹ ë¥¸ ê²€ìƒ‰**: `git grep "FF_"` ìœ¼ë¡œ ëª¨ë“  Feature Flag ì¦‰ì‹œ ê²€ìƒ‰ ê°€ëŠ¥
2. **ëª…í™•í•œ êµ¬ë¶„**: ì¼ë°˜ ë³€ìˆ˜ëª…/ìƒìˆ˜ì™€ Feature Flag êµ¬ë¶„
3. **ì½”ë“œ ë¦¬ë·° í¸ì˜ì„±**: PRì—ì„œ Feature Flag ë³€ê²½ì„ í•œëˆˆì— ì‹ë³„

**ì—…ê³„ ê´€í–‰**:
- **LaunchDarkly**: prefix ì—†ì´ action-subject í˜•ì‹ (`enable-new-dashboard`)
- **ConfigCat**: `teamname_flagtype_flagfunction` íŒ¨í„´ ê¶Œì¥
- **Statsig**: ë™ì‚¬ ê¸°ë°˜ (`enable_`, `show_` ë“±)

**í•µì‹¬**: Prefix ì‚¬ìš© ì—¬ë¶€ë³´ë‹¤ **ì¡°ì§ ë‚´ ì¼ê´€ì„±**ì´ ì¤‘ìš”

> ğŸ“Œ **ì¶œì²˜**: [LaunchDarkly Flag Conventions](https://launchdarkly.com/docs/guides/flags/flag-conventions), [ConfigCat Naming Conventions](https://configcat.com/blog/2023/05/19/feature-flag-naming-conventions/)

#### Release ë¸Œëœì¹˜ì™€ì˜ ë„¤ì´ë° ì¼ê´€ì„±

| ìš”ì†Œ | Release Branch | Feature Flag |
|------|----------------|--------------|
| **íŒ¨í„´** | `release/{product}/v{major}.{minor}.{patch}` | `FF_{PRODUCT}_{CATEGORY}_{VERSION}_*` |
| **Product A ì˜ˆì‹œ** | `release/product-a/v2.3.0` | `FF_PRODUCT_A_REL_V230_*` |
| **Product B ì˜ˆì‹œ** | `release/product-b/v1.0.0` | `FF_PRODUCT_B_REL_V100_*` |
| **ê³µí†µ** | (í•´ë‹¹ ì—†ìŒ) | `FF_COMMON_*` |

ë™ì¼í•œ ì œí’ˆ ì‹ë³„ ì²´ê³„ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œëœì¹˜ì™€ Flag ê°„ ì—°ê´€ì„± ëª…í™•í™”.

### 5.3 Feature Flag ë¼ì´í”„ì‚¬ì´í´

Feature FlagëŠ” 6ë‹¨ê³„ ë¼ì´í”„ì‚¬ì´í´ì„ ê±°ì¹¨:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Define  â”‚â”€â”€â–ºâ”‚ Develop â”‚â”€â”€â–ºâ”‚ Deploy  â”‚â”€â”€â–ºâ”‚Activate â”‚â”€â”€â–ºâ”‚ Cleanup â”‚â”€â”€â–ºâ”‚ Archive â”‚
â”‚  (Plan) â”‚   â”‚ (Code)  â”‚   â”‚ (OFF)   â”‚   â”‚  (ON)   â”‚   â”‚ (Remove)â”‚   â”‚ (Delete)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ê° ë‹¨ê³„ ìƒì„¸ ì„¤ëª…

**1. Define (ê³„íš ë‹¨ê³„)**
- Flag ì„¤ê³„ ë° ìš”êµ¬ì‚¬í•­ ì •ì˜
- Flag ê´€ë¦¬ ì‹œìŠ¤í…œì— ë“±ë¡ (ì´ë¦„, ìœ í˜•, ì†Œìœ ì ì„¤ì •)
- ì´ìŠˆ íŠ¸ë˜ì»¤ í‹°ì¼“ ìƒì„±, ê¸°ëŠ¥ ìŠ¤í™ ë¬¸ì„œí™”

**2. Develop (ê°œë°œ ë‹¨ê³„)**
- ì½”ë“œì— Feature Flag ì¶”ê°€ (ê¸°ë³¸ê°’: **OFF**)
- Feature branchì—ì„œ ê°œë°œ, PR ìƒì„±
- ì˜ˆ: `PROJ-XXXX` ë¸Œëœì¹˜ì—ì„œ ì‘ì—…

**3. Deploy (ë°°í¬ ë‹¨ê³„ â€” FlagëŠ” ì—¬ì „íˆ OFF)**
- PRì´ `develop` (trunk)ì— ë¨¸ì§€
- CI/CD íŒŒì´í”„ë¼ì¸ í†µê³¼
- **í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬ ì™„ë£Œ** (FlagëŠ” **OFF ìƒíƒœ ìœ ì§€**)
- ë°°í¬ ì˜ˆì‹œ:
  - develop â†’ release ë¸Œëœì¹˜ (`release/product-a/v2.3.0`)
  - QA í…ŒìŠ¤íŠ¸ â†’ í”„ë¡œë•ì…˜ ë°°í¬
  - **ì¤‘ìš”**: í”„ë¡œë•ì…˜ì— ë°°í¬ë˜ì§€ë§Œ ê¸°ëŠ¥ì€ ì•„ì§ ë…¸ì¶œ ì•ˆ ë¨ (Flag OFF)

**4. Activate (í™œì„±í™” ë‹¨ê³„ â€” Flagë¥¼ ONìœ¼ë¡œ ì „í™˜)**
- Flagë¥¼ **ON**ìœ¼ë¡œ ì „í™˜í•˜ì—¬ ê¸°ëŠ¥ ë…¸ì¶œ
- **ì ì§„ì  ë¡¤ì•„ì›ƒ** (Gradual Rollout):
  1. ë‚´ë¶€ í…ŒìŠ¤íŠ¸ í™˜ê²½
  2. ë² íƒ€ ê³ ê°
  3. ì „ì²´ ê³ ê°
- í™œì„±í™” ë°©ë²•:
  - Flag ê´€ë¦¬ ì‹œìŠ¤í…œì—ì„œ ON ì „í™˜ (ì„¤ì • íŒŒì¼ ì—…ë°ì´íŠ¸)
  - í™˜ê²½ë³„/ê³ ê°ë³„ ì„¤ì • íŒŒì¼ì— flag í™œì„±í™” ê°’ ì¶”ê°€
  - **í•µì‹¬**: ì½”ë“œ ì¬ë°°í¬ ì—†ì´ ê¸°ëŠ¥ í™œì„±í™” ê°€ëŠ¥

**5. Cleanup (ì •ë¦¬ ë‹¨ê³„)**
- Flagê°€ ëª©ì ì„ ë‹¬ì„± (ë¡¤ì•„ì›ƒ ì™„ë£Œ ë˜ëŠ” ì‹¤í—˜ ì¢…ë£Œ)
- **ì½”ë“œì—ì„œ Flagì™€ ë¶„ê¸° ë¡œì§ ì™„ì „ ì œê±°**
- ì •ë¦¬ í”„ë¡œì„¸ìŠ¤:
  - ì´ìŠˆ íŠ¸ë˜ì»¤ í‹°ì¼“ ìƒì„± (`Remove FF_{FLAG_NAME}`)
  - PRë¡œ Flag ì½”ë“œ ì œê±°
  - ë‹¤ìŒ ë¦´ë¦¬ì¦ˆì— í¬í•¨

**6. Archive (ì™„ì „ ì‚­ì œ)**
- Flag ê´€ë¦¬ ì‹œìŠ¤í…œì—ì„œ ì™„ì „ ì‚­ì œ
- ë¬¸ì„œ ì—…ë°ì´íŠ¸

#### Deploy vs Activate í•µì‹¬ êµ¬ë¶„

| ë‹¨ê³„ | ì˜ë¯¸ | Flag ìƒíƒœ | ì‹¤ì œ ìƒí™© |
|------|------|----------|----------|
| **Deploy** | ì½”ë“œ ë°°í¬ (CI/CD) | OFF | í”„ë¡œë•ì…˜ì— v2.3.0 ë°°í¬ ì™„ë£Œ, ê¸°ëŠ¥ ë¹„í™œì„± |
| **Activate** | ê¸°ëŠ¥ í™œì„±í™” (ì œí’ˆ ì œì–´) | ON | Flag ì„¤ì • ë³€ê²½ìœ¼ë¡œ ê¸°ëŠ¥ ë…¸ì¶œ |

**í•µì‹¬ ì›ì¹™**:
- **"ë°°í¬(Deploy)"ì™€ "ë¦´ë¦¬ì¦ˆ(Activate)"ë¥¼ ë¶„ë¦¬**
- ì½”ë“œëŠ” ë°°í¬ë˜ì—ˆì§€ë§Œ, ê¸°ëŠ¥ì€ Flagë¡œ ì œì–´

> ğŸ“Œ **ì¶œì²˜**: [Unleash Feature Flag Lifecycle](https://docs.getunleash.io/concepts/feature-flags), [CloudBees Feature Flag Lifecycle](https://www.cloudbees.com/blog/feature-flag-lifecycle)

### 5.4 FF ì •ë¦¬ ê·œì¹™ (Tech Debt ë°©ì§€)

#### Flag ìœ í˜•ë³„ ì •ë¦¬ ì •ì±…

| Flag ìœ í˜• | ì •ë¦¬ ì‹œì  | ë‹´ë‹¹ | ìë™í™” ë°©ë²• |
|-----------|----------|------|------------|
| **Release Flag** | ë¦´ë¦¬ì¦ˆ ì™„ë£Œ í›„ **ë‹¤ìŒ ìŠ¤í”„ë¦°íŠ¸** ë‚´ | ê°œë°œíŒ€ | ì´ìŠˆ í‹°ì¼“ ìë™ ìƒì„± |
| **Experiment Flag** | ì‹¤í—˜ ì¢…ë£Œ í›„ **1ì£¼ ì´ë‚´** | ì œí’ˆ+ê°œë°œíŒ€ | 7ì¼ ë¯¸ì‚¬ìš© ì‹œ Slack ê²½ê³  |
| **Ops Flag** | ë¶„ê¸°ë³„ ê²€í† , ë¡œì§ ì•ˆì •í™” ì‹œ | ìš´ì˜íŒ€ | ë¶„ê¸°ë³„ Flag ëŒ€ì‹œë³´ë“œ ê²€í†  |
| **Permission Flag** | ì—° 1íšŒ ê²€í†  | ì œí’ˆíŒ€ | ìˆ˜ë™ ê²€í†  |

#### ì •ë¦¬ ì‹œì  ìƒì„¸

**Release Flag ì •ë¦¬ íƒ€ì„ë¼ì¸**:
```
ë¦´ë¦¬ì¦ˆ ì™„ë£Œ (Activate ë‹¨ê³„ ì™„ë£Œ)
    â”‚
    â”œâ”€ Day 0: ë¦´ë¦¬ì¦ˆ ì™„ë£Œ (ëª¨ë“  ê³ ê°ì— ê¸°ëŠ¥ í™œì„±í™”)
    â”œâ”€ Day 7: ë‹¤ìŒ ìŠ¤í”„ë¦°íŠ¸ ì‹œì‘ â†’ ì´ìŠˆ í‹°ì¼“ ìƒì„±
    â”œâ”€ Day 14 (2ì£¼): í‹°ì¼“ ë¯¸ìƒì„± ì‹œ Slack ê²½ê³ 
    â””â”€ Day 21 (3ì£¼): ë¯¸ì œê±° ì‹œ íŒ€ ë¦¬ë“œ ì—ìŠ¤ì»¬ë ˆì´ì…˜
```

**Experiment Flag ì •ë¦¬ íƒ€ì„ë¼ì¸**:
```
ì‹¤í—˜ ì¢…ë£Œ (ê°€ì„¤ ê²€ì¦ ì™„ë£Œ)
    â”‚
    â”œâ”€ Day 0: ì‹¤í—˜ ì¢…ë£Œ
    â”œâ”€ Day 7: 1ì£¼ ì´ë‚´ ì œê±° ê¶Œì¥
    â”œâ”€ Day 14: 7ì¼ ë¯¸ì‚¬ìš© ê°ì§€ â†’ ìë™ ì•„ì¹´ì´ë¸Œ ì œì•ˆ
    â””â”€ Day 21: ë¯¸ì œê±° ì‹œ íŒ€ ë¦¬ë“œ ì—ìŠ¤ì»¬ë ˆì´ì…˜
```

#### ê¸°í•œ ì´ˆê³¼ Flag ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì •ì±…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Stale Flag Detection & Escalation              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1ï¸âƒ£  1ì°¨ ê²½ê³ : ì •ë¦¬ ê¸°í•œ ë„ë˜                                     â”‚
â”‚      - Slack ì•Œë¦¼ (flag ì†Œìœ ì mention)                        â”‚
â”‚      - ì¡°ê±´: Release Flag ë¦´ë¦¬ì¦ˆ í›„ 2ì£¼, Experiment ì¢…ë£Œ 1ì£¼      â”‚
â”‚                                                             â”‚
â”‚  2ï¸âƒ£  2ì°¨ ê²½ê³ : ê¸°í•œ +1ì£¼ ì´ˆê³¼                                    â”‚
â”‚      - PRì— "stale-flag" ë ˆì´ë¸” ìë™ ë¶€ì°©                       â”‚
â”‚      - Flag ëŒ€ì‹œë³´ë“œì— ğŸš¨ ì•„ì´ì½˜ í‘œì‹œ                             â”‚
â”‚                                                             â”‚
â”‚  3ï¸âƒ£  ì—ìŠ¤ì»¬ë ˆì´ì…˜: ê¸°í•œ +2ì£¼ ì´ˆê³¼                                 â”‚
â”‚      - íŒ€ ë¦¬ë“œì—ê²Œ ë³´ê³                                          â”‚
â”‚      - Sprint Retrospective ì•ˆê±´ ì¶”ê°€                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ìë™ ê°ì§€ ê·œì¹™

**"í•­ìƒ ON ë˜ëŠ” í•­ìƒ OFF" ê°ì§€**:
- ëª¨ë‹ˆí„°ë§: ì§€ë‚œ 7ì¼ê°„ Flag ê°’ ë³€ê²½ ì´ë ¥ ì¶”ì 
- ì¡°ê±´: 7ì¼ê°„ 100% ON ë˜ëŠ” 100% OFF ìƒíƒœ ìœ ì§€
- ì•¡ì…˜: Slack ì•Œë¦¼ "ì´ FlagëŠ” ì œê±° ëŒ€ìƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤"

> ğŸ“Œ **ì¶œì²˜**: LaunchDarkly [Best Practices](https://launchdarkly.com/guides/30-feature-flagging-best-practices-mega-guide/): *"If a flag is always ON or always OFF, it's time to clean it up."*

#### FF ì œê±° PR ê·œì¹™

- âœ… **ë³„ë„ ì»¤ë°‹ìœ¼ë¡œ ë¶„ë¦¬** (ë°±í¬íŠ¸ í¸ì˜ì„±)
- âœ… **ì»¤ë°‹ ë©”ì‹œì§€**: `â™»ï¸ refactor: Remove FF_{FLAG_NAME} after rollout complete`
- âœ… **ë ˆì´ë¸”**: `ff-cleanup` ë ˆì´ë¸” ë¶€ì°©
- âœ… **ë¦¬ë·°**: ì› Flag ì‘ì„±ì ë¦¬ë·° ê¶Œì¥

---

## 6. ë¦´ë¦¬ì¦ˆ ê´€ë¦¬ & Backport ìë™í™”

### 6.1 ë¦´ë¦¬ì¦ˆ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Release Management Flow                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  develop (trunk)                                            â”‚
â”‚  â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â–º           â”‚
â”‚                    â”‚                   â”‚                    â”‚
â”‚              release cut          fix on trunk              â”‚
â”‚                    â”‚                   â”‚                    â”‚
â”‚                    â–¼                   â”‚ auto backport      â”‚
â”‚  release/v2.3.0 â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—'â”€â”€â–º tag â†’ delete    â”‚
â”‚                   â”‚    â”‚    â”‚         â–²                     â”‚
â”‚                 harden â”‚  QA test   backport PR             â”‚
â”‚                        â”‚                                    â”‚
â”‚                   hotfix on trunk â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º           â”‚
â”‚                                                             â”‚
â”‚  âš¡ Key Rule: ëª¨ë“  ìˆ˜ì •ì€ trunkì— ë¨¼ì €, ê·¸ í›„ backport             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Release Branch ê·œì¹™

| í•­ëª©           | ê·œì¹™                                                   |
| ------------ | ---------------------------------------------------- |
| **ìƒì„± ì‹œì **    | ë¦´ë¦¬ì¦ˆ ì¼ì • í™•ì • í›„, ë¦´ë¦¬ì¦ˆ 1-2ì£¼ ì „                              |
| **ìƒì„± ë°©ë²•**    | `git checkout -b release/product-a/v2.3.0 develop`  |
| **í—ˆìš© ë³€ê²½**    | ë²„ê·¸ ìˆ˜ì •, ë³´ì•ˆ íŒ¨ì¹˜ë§Œ (ìƒˆ ê¸°ëŠ¥ ê¸ˆì§€)                              |
| **ë³€ê²½ ì ìš© ë°©ë²•** | trunkì— ë¨¼ì € ë¨¸ì§€ â†’ ìë™ backportë¡œ ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ì— ì ìš©              |
| **ìˆ˜ëª…**       | ìµœëŒ€ 2ì£¼ (ë¦´ë¦¬ì¦ˆ í›„ ì‚­ì œ)                                     |
| **íƒœê¹…**       | ë¦´ë¦¬ì¦ˆ ì‹œ `v2.3.0` íƒœê·¸ ìƒì„±                                 |
| **ì‚­ì œ**       | íƒœê·¸ ìƒì„± í›„ ì¦‰ì‹œ ë¸Œëœì¹˜ ì‚­ì œ                                    |

#### Why Just-in-Time?

ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ë¥¼ ë„ˆë¬´ ì¼ì° cutí•˜ë©´ trunkê³¼ì˜ ë¶„ê¸°ê°€ ì»¤ì ¸ backport ì¶©ëŒì´ ê¸‰ì¦í•œë‹¤.

```
âŒ Too Early Cut â€” ë¶„ê¸° ê¸°ê°„ì´ ê¸¸ì–´ ì¶©ëŒ ìœ„í—˜ ì¦ê°€

develop  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º
              â”‚              fix â”€â”€â”
         early cut                â”‚ backport (cherry-pick)
              â”‚                   â–¼  ğŸ’¥ ì¶©ëŒ!
release  â”€â”€â”€â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—'â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º tag
              â—„â”€â”€â”€â”€â”€â”€â”€â”€ 4ì£¼+ ë¶„ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
              trunkê³¼ 12ê°œ+ ì»¤ë°‹ ë¶„ê¸° â†’ ì¶©ëŒ í™•ë¥  ë†’ìŒ


âœ… Just-in-Time Cut â€” ë¶„ê¸° ìµœì†Œí™”ë¡œ ì¶©ëŒ ê°ì†Œ

develop  â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â–º
                                      â”‚  fix â”€â”
                                 late cut     â”‚ backport (cherry-pick)
                                      â”‚      â–¼  âœ… ì„±ê³µ
release  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â—â”€â”€â”€â—'â–º tag
                                       â—„ 1~2ì£¼ â–º
                                       trunkê³¼ 3ê°œ ì´í•˜ ì»¤ë°‹ ë¶„ê¸° â†’ ì¶©ëŒ í™•ë¥  ë‚®ìŒ
```

**í•µì‹¬**: ë¶„ê¸° ê¸°ê°„ì´ ì§§ì„ìˆ˜ë¡ cherry-pick/backport ì‹œ ì¶©ëŒ í™•ë¥ ì´ ë‚®ì•„ì§€ê³ , ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ ìœ ì§€ ë¹„ìš©ì´ ì¤„ì–´ë“ ë‹¤. ë”°ë¼ì„œ ë¦´ë¦¬ì¦ˆ ì¼ì •ì´ í™•ì •ëœ í›„ **ê°€ëŠ¥í•œ í•œ ëŠ¦ê²Œ** cutí•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ë‹¤.

### 6.3 Backport ìë™í™” ì„¤ì •

#### GitHub Actions ì›Œí¬í”Œë¡œ

```yaml
# .github/workflows/backport.yml
name: Backport merged pull request
on:
  pull_request_target:
    types: [closed]

permissions:
  contents: write
  pull-requests: write

jobs:
  backport:
    name: Backport pull request
    runs-on: ubuntu-latest
    if: github.event.pull_request.merged
    steps:
      - uses: actions/checkout@v4
      - uses: korthout/backport-action@v4
        with:
          label_pattern: '^backport ([^ ]+)$'
          pull_title: '[Backport ${target_branch}] ${pull_title}'
          pull_description: |
            ## Backport
            - Original: #${pull_number} by @${pull_author}
            - Target: `${target_branch}`

            ${pull_description}
          copy_assignees: true
          experimental: '{"conflict_resolution": "draft_commit_conflicts"}'
```

#### ì´ˆê¸° ì„¤ì • (ìµœì´ˆ 1íšŒ)

Repositoryì— backport ë ˆì´ë¸” ìƒì„±:

```bash
# ì œí’ˆë³„ ë¦´ë¦¬ì¦ˆ ë°±í¬íŠ¸ ë ˆì´ë¸”
gh label create "backport release/product-a/v2.3.0" --color 0E8A16 --description "Backport to Product A v2.3.0"
gh label create "backport release/product-b/v1.0.0" --color 1D76DB --description "Backport to Product B v1.0.0"
```

#### ì‚¬ìš© ë°©ë²•

**1. developì— PR ìƒì„± ë° ì‘ì—…**

**2. PRì— backport ë ˆì´ë¸” ì¶”ê°€**

CLI ë°©ì‹:
```bash
# PR ë²ˆí˜¸ë¥¼ ì•Œê³  ìˆì„ ë•Œ
gh pr edit 123 --add-label "backport release/product-a/v2.3.0"

# í˜„ì¬ ë¸Œëœì¹˜ì˜ PRì— ì¶”ê°€
gh pr edit --add-label "backport release/product-a/v2.3.0"
```

ë˜ëŠ” GitHub UI ë°©ì‹:
```
PR í˜ì´ì§€ ìš°ì¸¡ â†’ Labels â†’ "backport release/product-a/v2.3.0" ì„ íƒ
```

**3. PR ë¨¸ì§€** (developìœ¼ë¡œ)

**4. ìë™ backport ì‹¤í–‰**
- ë°±í¬íŠ¸ ì›Œí¬í”Œë¡œê°€ ìë™ìœ¼ë¡œ:
  - `cherry-pick -x` ì‹¤í–‰
  - `backport-<PRë²ˆí˜¸>-to-release/product-a/v2.3.0` ë¸Œëœì¹˜ ìƒì„±
  - Backport PR ìë™ ìƒì„±

**5. Backport PR ì²˜ë¦¬**
- ì¶©ëŒ ì—†ìœ¼ë©´ â†’ Auto PR (ë¦¬ë·° í›„ ë¨¸ì§€)
- ì¶©ëŒ ìˆìœ¼ë©´ â†’ Draft PR (ìˆ˜ë™ í•´ê²° í›„ ë¨¸ì§€)

### 6.4 ë‹¤ì¤‘ ë¦´ë¦¬ì¦ˆ Backport

```
develop â”€â”€â—â”€â”€ fix commit â”€â”€â–º
           â”‚
           â”œâ”€â”€ backport release/product-a/v2.3.0  (ìë™, ë ˆì´ë¸” 1)
           â”œâ”€â”€ backport release/product-a/v2.2.1  (ìë™, ë ˆì´ë¸” 2)
           â””â”€â”€ backport release/product-b/v1.0.0  (ìë™, ë ˆì´ë¸” 3)

í•˜ë‚˜ì˜ PRì— ì—¬ëŸ¬ backport ë ˆì´ë¸”ì„ ë™ì‹œì— ë¶€ì°© ê°€ëŠ¥
```

---

## ğŸ“ Sources

1. [Trunk Based Development](https://trunkbaseddevelopment.com/) â€” ê³µì‹ ì‚¬ì´íŠ¸
2. [Atlassian TBD Guide](https://www.atlassian.com/continuous-delivery/continuous-integration/trunk-based-development) â€” ê°€ì´ë“œ
3. [Unleash: How To Implement TBD](https://www.getunleash.io/blog/how-to-implement-trunk-based-development-a-practical-guide) â€” ì‹¤ì „ ê°€ì´ë“œ
4. [Monorepos & TBD](https://trunkbaseddevelopment.com/monorepos/) â€” ëª¨ë…¸ë ˆí¬ ê°€ì´ë“œ
5. [Branching Strategies for Monorepo](https://graphite.dev/guides/branching-strategies-monorepo) â€” ë¸Œëœì¹˜ ì „ëµ
6. [Cherry-picks vs Backmerges](https://www.runway.team/blog/cherry-picks-vs-backmerges-whats-the-right-way-to-get-fixes-into-your-release-branch) â€” ë°±í¬íŠ¸ ì „ëµ
7. [Feature Flags in TBD](https://trunkbaseddevelopment.com/feature-flags/) â€” FF ê°€ì´ë“œ
8. [backport-action](https://github.com/korthout/backport-action) â€” ë°±í¬íŠ¸ ìë™í™” ë„êµ¬
